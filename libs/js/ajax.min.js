function createReq(){req=null;if(window.XMLHttpRequest){req=new XMLHttpRequest();}else{req=new ActiveXObject("Microsoft.XMLHTTP");}
return req;}

function ajax(file,method,params,id)
{var req=createReq();req.onreadystatechange=function(){if(req.readyState==4&&req.status==200){var form=document.getElementById(id);form.innerHTML=req.responseText;return req.responseText;}else{return false;}}
req.open(method,file,true);req.setRequestHeader("Content-type","application/x-www-form-urlencoded");req.setRequestHeader("Content-length",params.length);req.setRequestHeader("Connection","close");req.send(params);}